{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "timezone": "UTC",
  "dependencyDashboard": true,
  "dependencyDashboardApproval": false,
  "rangeStrategy": "bump",
  "rebaseWhen": "auto",
  "assignees": [
    "rooz-live"
  ],
  "labels": [
    "dependencies"
  ],
  "prConcurrentLimit": 5,
  "separateMajorMinor": true,
  "npm": {
    "stabilityDays": 3,
    "lockFileMaintenance": {
      "enabled": true,
      "schedule": ["at 05:00 on saturday"]
    }
  },
  "packageRules": [
    {
      "description": "Daily security/patch checks for @foxruv/iris (Mon-Fri, 04:00 UTC)",
      "matchPackageNames": [
        "@foxruv/iris",
        "sharp",
        "better-sqlite3"
      ],
      "matchPackagePatterns": [
        "^@anthropic-ai/",
        "^@supabase/"
      ],
      "matchUpdateTypes": ["patch"],
      "groupName": "critical-security-daily",
      "automerge": false,
      "schedule": ["before 4am every weekday"],
      "labels": ["security", "automated", "daily-check"],
      "minimumReleaseAge": "3 days",
      "prPriority": 10,
      "reviewers": ["rooz-live"]
    },
    {
      "description": "Disable automated major updates for @foxruv/iris (manual only)",
      "matchPackageNames": ["@foxruv/iris"],
      "matchUpdateTypes": ["major"],
      "enabled": false
    },
    {
      "description": "Weekly minor updates for critical dependencies (Monday, 06:00 UTC)",
      "matchPackageNames": [
        "@foxruv/iris",
        "sharp",
        "better-sqlite3"
      ],
      "matchPackagePatterns": [
        "^@anthropic-ai/",
        "^@supabase/"
      ],
      "matchUpdateTypes": ["minor"],
      "groupName": "critical-minor-weekly",
      "automerge": false,
      "schedule": ["after 6am on monday"],
      "labels": ["dependencies", "enhancement", "weekly-update"],
      "minimumReleaseAge": "7 days",
      "prPriority": 5,
      "reviewers": ["rooz-live"]
    },
    {
      "description": "Weekly updates for other npm dependencies",
      "matchDepTypes": [
        "devDependencies",
        "dependencies"
      ],
      "excludePackageNames": [
        "@foxruv/iris",
        "sharp",
        "better-sqlite3"
      ],
      "excludePackagePatterns": [
        "^@anthropic-ai/",
        "^@supabase/"
      ],
      "matchUpdateTypes": ["minor", "patch"],
      "groupName": "weekly-updates",
      "automerge": false,
      "schedule": ["at 6am on monday"],
      "labels": ["dependencies", "enhancement", "weekly-update"],
      "minimumReleaseAge": "7 days",
      "reviewers": ["rooz-live"]
    }
  ],
  "pip_requirements": {
    "fileMatch": [
      "analysis/requirements.txt"
    ],
    "schedule": ["before 4am every weekday"],
    "groupName": "python-dependencies",
    "labels": ["dependencies", "python", "dt-calibration", "daily-security"],
    "reviewers": ["rooz-live"],
    "automerge": false,
    "minimumReleaseAge": "3 days"
  },
  "github-actions": {
    "fileMatch": [
      ".github/workflows/**"
    ],
    "schedule": ["at 6am on monday"],
    "groupName": "github-actions",
    "labels": ["dependencies", "ci-cd", "weekly-update"],
    "reviewers": ["rooz-live"],
    "automerge": false,
    "minimumReleaseAge": "7 days"
  },
  "postUpdateOptions": {
    "labels": [
      "dependencies",
      "security",
      "automated"
    ],
    "assignees": [
      "rooz-live"
    ]
  },
  "requiredStatusChecks": [
    "IRIS Governance Integration Tests",
    "IRIS Prod-Cycle E2E Tests",
    "DT Calibration Tests",
    "DT Quality Gates Tests",
    "ReasoningBank Public API Test",
    "Dashboard Validation"
  ],
  "ignorePaths": [
    "**/*.md",
    "docs/**"
  ],
  "ignoreDeps": [
    "node_modules",
    "bower_components"
  ]
}