# Build-Measure-Learn Cycle 001: LEARN Phase
# Evidence-based insights from MEASURE phase
# Clear prioritization for BUILD phase

cycle_id: "BML-001"
phase: "LEARN"
completed_at: "2025-11-17T18:55:00Z"
owner: "analyst_circle"

# =============================================================================
# KEY INSIGHTS (Evidence-Based)
# =============================================================================
validated_facts:
  infrastructure_works:
    - fact: "doc_query.py performs at 0.433s (<1s target)"
      evidence: "time python3 scripts/doc_query.py 'WSJF' --json"
      action: "No performance optimization needed - focus on DoR/DoD/retro integration"
      
    - fact: "AgentDB learning_events table exists and schema matches"
      evidence: "sqlite3 agentdb.sqlite '.schema learning_events'"
      action: "learning_hooks_system.py is production-ready"
      
    - fact: "agentic-jujutsu v2.3.3 installed but native addon unavailable"
      evidence: "npx agentic-jujutsu --version (darwin x64 addon missing)"
      action: "Functional for Claude Code skill - continue using"
      
    - fact: "4 active GitHub repos: lionagi-qe-fleet, lionagi, risk-analytics, agentic-flow"
      evidence: "gh repo list rooz-live"
      action: "Focus on these 4 before discovering more platforms"
      
    - fact: "Discord integration prepared but not deployed"
      evidence: "DISCORD_* environment variables not set"
      action: "Defer Discord until WSJF board validated"
  
  infrastructure_gaps:
    - gap: "No WordPress/Flarum found locally"
      hypothesis_confirmed: "Deployed remotely, not in code/"
      action: "STOP creating local structures - ask user for deployment URLs"
      blocker: false
      
    - gap: "No trading platform code found"
      hypothesis_confirmed: "Likely manual research tools, not automated trading"
      action: "STOP assuming code integration - ask user for use case"
      blocker: false
      
    - gap: "No Temporal workflows implemented"
      hypothesis_confirmed: "Not yet built"
      action: "Valid BUILD candidate if DecisionCall.com automation needed"
      blocker: false
      
    - gap: "No IPMI scripts found"
      hypothesis_confirmed: "StarlingX deployment blocker needs research"
      action: "seeker_circle research task"
      blocker: true

# =============================================================================
# ANTI-HALLUCINATION LEARNINGS
# =============================================================================
hallucination_prevention:
  - learning: "User mentions platforms != platforms exist in code/"
    example: "WordPress, Flarum, trading platforms mentioned but not found"
    protocol: "ASK for deployment locations before creating structures"
    
  - learning: "Academic references != implementation requirements"
    example: "DreamLab Metaverse Ontology, Cell publications on digital brains"
    protocol: "Treat as inspiration/alignment research, not code dependencies"
    
  - learning: "Existing scripts may be aspirational, not used"
    example: "discord_wsjf_bot.py exists but Discord env vars not set"
    protocol: "Validate usage before enhancement"
    
  - learning: "Comprehensive plans < incremental validation"
    example: "10-item TODO list created before measuring current state"
    protocol: "BML cycle: Measure → Learn → Build (one item at a time)"

# =============================================================================
# PRIORITIZED ACTIONS (NOW/NEXT/LATER)
# =============================================================================
now_sprint:  # This week - validated high-value
  - id: "BUILD-001"
    title: "doc_query.py: Add DoR/DoD + Retrospective Integration"
    wsjf_score: 8.0
    rationale: "Script works (0.433s), just needs metadata"
    estimated_hours: 2
    circles: ["assessor", "innovator"]
    dor_met: true
    dependencies: []
    success_criteria:
      - "README.md has DoR/DoD checklist"
      - "Links insights to INBOX_ZERO_SAFLA_BOARD.yaml"
      - "No new .md files created"
      
  - id: "BUILD-002"
    title: "GitHub Repos → SAFe Classification"
    wsjf_score: 12.0
    rationale: "4 repos validated, quick win"
    estimated_hours: 1
    circles: ["seeker", "analyst"]
    dor_met: true
    dependencies: []
    success_criteria:
      - "lionagi-qe-fleet, lionagi, risk-analytics, agentic-flow in .governance/repo-safe-mapping.json"
      - "Each assigned to evaluating/emerging/investing"
      - "Circle ownership documented"
      
  - id: "BUILD-003"
    title: "IPMI Blocker Research (StarlingX prerequisite)"
    wsjf_score: 10.0
    rationale: "Identified as blocker, needs clarity"
    estimated_hours: 1
    circles: ["seeker"]
    dor_met: true
    dependencies: []
    success_criteria:
      - "Document in .goalie/blockers/IPMI_STARLINGX_RESEARCH.md"
      - "Answer: Is IPMI mandatory or optional?"
      - "If mandatory: procedure to test/configure"

next_sprint:  # After user validation
  - id: "VALIDATE-001"
    title: "Ask user: Where are WordPress/Flarum deployed?"
    rationale: "No code found - need deployment context"
    validation_questions:
      - "Are WordPress/Flarum on servers (stx-aio-0.corp.interface.tag.ooo)?"
      - "Do they need local dev environments in code/?"
      - "Or are they fully managed and don't need SAFe lifecycle tracking?"
      
  - id: "VALIDATE-002"
    title: "Ask user: Trading platforms use case"
    rationale: "No integration code - clarify need"
    validation_questions:
      - "Is trading automated (need APIs) or manual research (just TradingView browser)?"
      - "If automated: Which brokers (Interactive Brokers confirmed)?"
      - "Priority vs. other work?"
      
  - id: "VALIDATE-003"
    title: "Ask user: Temporal vs. DecisionCall.com automation priority"
    rationale: "Temporal not implemented - validate need"
    validation_questions:
      - "Is DecisionCall.com automation immediate priority?"
      - "What workflows need orchestration?"
      - "Can we start with simpler cron jobs before Temporal?"
      
  - id: "VALIDATE-004"
    title: "Ask user: Discord integration priority"
    rationale: "Code exists but not deployed"
    validation_questions:
      - "Should we deploy Discord bot now or defer?"
      - "Is there a Discord server already set up?"
      - "Priority vs. other notification methods (email, Slack)?"

later_backlog:  # After validations
  - id: "BUILD-004"
    title: "Temporal Workflow Engine (if validated)"
    wsjf_score: 7.0
    estimated_hours: 34
    dependencies: ["VALIDATE-003"]
    
  - id: "BUILD-005"
    title: "Trading Platform Integration (if validated)"
    wsjf_score: 6.5
    estimated_hours: 21
    dependencies: ["VALIDATE-002"]
    
  - id: "BUILD-006"
    title: "WordPress/Flarum SAFe Migration (if validated)"
    wsjf_score: 6.92
    estimated_hours: 13
    dependencies: ["VALIDATE-001"]

# =============================================================================
# DEFERRED (Explicitly Not Doing)
# =============================================================================
deferred:
  - item: "POC branch consolidation"
    reason: "No evidence of POC branches found"
    action: "Skip until branches identified"
    
  - item: "Unified CLI for agentic tools"
    reason: "agentic-jujutsu already works - no need for wrapper"
    action: "Use existing tools directly"
    
  - item: "DecisionCall.com automation"
    reason: "No requirements specified"
    action: "Wait for user clarification (VALIDATE-003)"
    
  - item: "Donor advised funding integration"
    reason: "Financial planning context, not code"
    action: "Skip unless user provides technical requirements"

# =============================================================================
# BUILD PHASE PLAN (Incremental)
# =============================================================================
build_approach:
  philosophy: "One item at a time. Measure. Learn. Repeat."
  
  iteration_1:  # 2 hours
    - "BUILD-001: doc_query.py metadata (README update only)"
    - "BUILD-002: 4 repos → SAFe mapping (JSON file only)"
    measurement: "Validate both complete in <2 hours total"
    
  iteration_2:  # 1 hour
    - "BUILD-003: IPMI research (write findings)"
    measurement: "Clear blocker resolution path documented"
    
  iteration_3:  # User-driven
    - "Present VALIDATE-001 through VALIDATE-004 to user"
    - "Get explicit answers before any new BUILD work"
    measurement: "Zero hallucination risk on platform assumptions"

# =============================================================================
# SUCCESS METRICS (BML Validated)
# =============================================================================
metrics:
  process:
    time_insight_to_action:
      baseline: "Hours between user query and first measurement"
      target: "< 30 minutes"
      actual: "~25 minutes (BML_CYCLE_001_MEASURE.yaml created)"
      status: "✅ MET"
      
    evidence_before_action:
      baseline: "0 measurements before creating TODO list"
      target: "7 measurements before BUILD phase"
      actual: "7 measurements (MEASURE-001 through MEASURE-007)"
      status: "✅ MET"
      
  learning:
    hallucination_risks_identified:
      target: "> 3"
      actual: 5
      status: "✅ MET"
      list:
        - "WordPress/Flarum local assumption"
        - "Trading platform code assumption"
        - "Academic references as dependencies"
        - "Existing scripts as validated"
        - "Comprehensive solutions before needs"
        
    blockers_surfaced:
      target: "> 2"
      actual: 3
      status: "✅ MET"
      list:
        - "IPMI for StarlingX"
        - "Discord credentials"
        - "AgentDB schema (resolved: validated working)"

# =============================================================================
# NEXT CYCLE
# =============================================================================
next_cycle: "BML-002-BUILD"
focus: "Incremental execution of BUILD-001, BUILD-002, BUILD-003"
scheduled_at: "2025-11-17T19:00:00Z"
expected_duration: "3 hours"
