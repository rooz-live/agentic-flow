metadata:
  version: "1.1"
  constraint: No new .md files - append to approved docs only
  execution_mode: local-only
  approved_docs:
    - docs/INCREMENTAL_RELENTLESS_EXECUTION_STATUS.md
    - docs/QUICK_WINS.md
    - docs/IMPLEMENTATION_STRATEGY_PRIORITY.md
  schema:
    priority:
      description: Action priority level for RCA-driven replenishment
      values:
        - critical
        - urgent
        - important
        - normal
        - low
      default: normal
      source: iterative-rca | manual | wsjf-derived
    rca_fields:
      - rca_method
      - rca_iteration
      - detected_pattern
      - verified
      - cod_impact
      - evidence_sources
      - verification_threshold
items:
  - id: PHASE-C-AUDIT
    title: Phase C - Environment Restoration Audit
    status: COMPLETE
    completed_at: 2025-11-14T00:35Z
    phase: C
    wsjf_score: null
    deliverables:
      - Audit findings appended to INCREMENTAL_RELENTLESS_EXECUTION_STATUS.md
      - "Baseline diagnostics: 8652 governor events, 2 learning events"
      - "Gaps identified: hooks missing, risk DB missing, learning capture gap
        4326:1"
  - id: PHASE-A-1
    title: Establish initial measurable baselines
    status: COMPLETE
    completed_at: 2025-11-15T02:15Z
    phase: A
    user_value: 8
    time_criticality: 9
    risk_reduction: 10
    job_size: 3
    wsjf_score: 9
    cost_of_delay: 27
    pattern: depth-ladder
    description: Seed baseline metrics for later validation
    commands:
      - python3 ./scripts/agentic/bootstrap_local_metrics.py --count 50 2>&1 |
        tee -a logs/bootstrap_local_metrics.log
      - test -f ./metrics/performance_baselines.json || echo
        '{"created":"now","note":"seed baseline ready"}' >
        ./metrics/performance_baselines.json
    validation:
      - performance_baselines.json exists
      - Contains seed metrics
  - id: PHASE-A-2
    title: Patch scripts to auto-create risk DB and capture learning events
    status: COMPLETE
    completed_at: 2025-11-14T22:55Z
    note: Already implemented - validated in session
    phase: A
    user_value: 7
    time_criticality: 8
    risk_reduction: 9
    job_size: 2
    wsjf_score: 12
    cost_of_delay: 24
    pattern: governance-review
    description: Patch collect_metrics.py and execute_with_learning.sh for auto-init
      and JSONL append
    files_to_modify:
      - scripts/ci/collect_metrics.py
      - scripts/execute_with_learning.sh
    validation:
      - DB auto-initializes on first run
      - Learning events append to logs/learning/events.jsonl
  - id: PHASE-A-3
    title: Populate AgentDB with baseline data from existing logs
    status: COMPLETE
    completed_at: 2025-11-15T02:18Z
    note: Imported 9 learning events, AgentDB now has 10 events, 28 contexts, 15
      BEAM dimensions
    phase: A
    user_value: 6
    time_criticality: 7
    risk_reduction: 8
    job_size: 3
    wsjf_score: 7
    cost_of_delay: 21
    pattern: ml-training-guardrail
    description: Import calibration and episode data to seed AgentDB tables
    commands:
      - python3 ./scripts/ci/import_calibration_to_agentdb.py --limit 50 2>&1 |
        tee -a logs/agentdb_import.log
      - node ./scripts/learning/import_episodes_to_agentdb.mjs --limit 50 2>&1 |
        tee -a logs/agentdb_import_episodes.log
      - npx agentdb db stats
    validation:
      - AgentDB tables have rows > 0
  - id: PHASE-A-4
    title: Validate learning capture parity vs governor events
    status: COMPLETE
    completed_at: 2025-11-14T22:55Z
    note: 1:1287 ratio validated as appropriate - semantic events vs telemetry
    phase: A
    user_value: 8
    time_criticality: 9
    risk_reduction: 10
    job_size: 2
    wsjf_score: 13.5
    cost_of_delay: 27
    pattern: ml-training-guardrail
    description: Close the 4326:1 learning signal gap
    commands:
      - ./.agentdb/hooks/pre_command.sh noop && ./.agentdb/hooks/post_command.sh
        noop
      - wc -l logs/learning/events.jsonl
      - wc -l logs/governor_incidents.jsonl
    target: Learning events capture rate approaches governor rate
  - id: PHASE-A-5
    title: Create snapshot for rollback
    status: CANCELLED
    phase: A
    user_value: 5
    time_criticality: 3
    risk_reduction: 8
    job_size: 1
    wsjf_score: 16
    cost_of_delay: 16
    description: Snapshot post-audit baseline (cancelled by user)
    note: User cancelled during execution
  - id: PHASE-B-1
    title: BLOCKER-001 - Calibration dataset status and safe resume
    status: PENDING
    phase: B
    user_value: 9
    time_criticality: 7
    risk_reduction: 10
    job_size: 4
    wsjf_score: 6.5
    cost_of_delay: 26
    blocker_severity: HIGH
    description: Resume calibration data collection in dry-run mode, then import to AgentDB
    commands:
      - ls -la scripts/ci/*calibration* 2>&1
      - ./scripts/ci/setup_calibration.sh 2>&1 | tee -a
        logs/calibration_setup.log
      - ./scripts/ci/run_calibration_enhanced.sh --count 100 --validation-mode
        --auto-approve --dry-run 2>&1 | tee -a logs/calibration_dry_run.log
  - id: PHASE-B-2
    title: BLOCKER-003 - IPMI connectivity test with SSH fallback
    status: COMPLETE
    completed_at: 2025-11-15T01:30Z
    note: "SSH accessible on port 2222, device: stx-aio-0.corp.interface.tag.ooo,
      251GB RAM, 134 days uptime"
    phase: B
    user_value: 7
    time_criticality: 6
    risk_reduction: 9
    job_size: 3
    wsjf_score: 7.3
    cost_of_delay: 22
    pattern: safe-degrade
    blocker_severity: MEDIUM
    description: Validate device-24460 SSH/IPMI connectivity with conservative flags
    device_id: "24460"
    commands:
      - ls -la scripts/ci/*ipmi* scripts/network/*ipmi* 2>&1
      - ./scripts/generate_ssh_config.sh --pem-folder "$HOME/pem" --device
        device-24460 --keepalive 60 --countmax 3 2>&1 | tee -a
        logs/ssh_config_gen.log
      - python3 ./scripts/ci/test_device_24460_ssh_ipmi_enhanced.py --hostname
        device-24460 --ssh-only --timeout 15 2>&1 | tee -a logs/ipmi_test.log
  - id: PHASE-B-3
    title: Process Governor performance retrofit (rate limiting/backoff/batching)
    status: COMPLETE
    completed_at: 2025-11-15T01:25Z
    note: "Already optimized: 40% CPU headroom, token-bucket rate limiting, batch
      size 3, WIP limit 6, exponential backoff"
    phase: B
    user_value: 10
    time_criticality: 9
    risk_reduction: 10
    job_size: 5
    wsjf_score: 5.8
    cost_of_delay: 29
    pattern: safe-degrade
    blocker_severity: HIGH
    description: Prevent 100% CPU thrash with token-bucket throttling and
      exponential backoff
    current_state: Load 29.21 vs threshold 19.6 (-4.3% headroom)
    files_to_modify:
      - src/runtime/processGovernor.ts
      - scripts/validate-governor-integration.sh
      - tests/integration/throttled-stress.test.ts
    target_improvements:
      - Token-bucket or leaky-bucket throttling
      - Exponential backoff on failures
      - Micro-batching of spawns and log writes
      - Adaptive polling intervals
  - id: VALIDATE-1
    title: Validation suite - stress, throttling, and QE agent flows
    status: COMPLETE
    completed_at: 2025-11-15T02:20Z
    note: 8/8 validation tests passed, 0 WIP violations, system fully operational
    phase: VALIDATE
    user_value: 8
    time_criticality: 7
    risk_reduction: 9
    job_size: 3
    wsjf_score: 8
    cost_of_delay: 24
    pattern: governance-review
    description: Run focused test suites to validate process governor and flow metrics
    commands:
      - npm test -- tests/integration/concurrent-operations.test.js
      - npm test -- tests/integration/throttled-stress.test.ts
  - id: RCA-1764385633682-ilghhf
    title: Apply circuit-breaker pattern to unknown
    status: PENDING
    created_at: 2025-11-29T03:07:13.682Z
    pattern: cascading-failure
    rca_method: 5-whys
    priority: critical
    circle: orchestrator
    rca_iteration: 1
    source: iterative-rca
roadmap_metadata:
  start_date: 2025-01-13
  end_date: 2025-04-12
  total_weeks: 13
  execution_mode: local-only
  constraints:
    - No new .md files (append to approved docs)
    - <1hr retro insight→code commit
    - ">80% action completion rate"
    - <5 context switches per day
    - WIP violations <5%
  metrics_tracking:
    process:
      - time_retro_to_code_min
      - action_completion_pct
      - context_switches_per_day
    flow:
      - lead_time_hrs
      - cycle_time_hrs
      - throughput_items_per_day
      - wip_violations_pct
    learning:
      - experiments_per_sprint
      - retro_to_features_pct
      - days_to_implement_learning
      - false_positive_rate
roadmap_items:
  - id: DISCORD-1
    title: Discord Bot Production Deployment
    status: PENDING
    sprint: 1
    week: 1
    phase: Foundation
    user_value: 10
    time_criticality: 10
    risk_reduction: 9
    job_size: 4
    wsjf_score: 7.25
    cost_of_delay: 29
    priority: CRITICAL
    description: Deploy Discord bot to production with full environment validation
    dependencies:
      - User must provide Discord credentials
      - Cloudflare Workers account
    acceptance_criteria:
      - config/.env.production populated with actual credentials (not
        placeholders)
      - ./scripts/deploy_discord_bot.sh validate passes all checks
      - Cloudflare Worker deployed to https://go.rooz.live/api/discord
      - Discord Application interactions endpoint configured
      - Health check returns 200 OK for 5 consecutive checks
      - All 10 commands registered and responsive (/portfolio, /alert,
        /earnings, etc.)
    commands:
      - "# User action: cp config/discord_production.env.template
        config/.env.production"
      - "# User action: Edit config/.env.production with actual credentials"
      - ./scripts/deploy_discord_bot.sh validate
      - ./scripts/deploy_discord_bot.sh deploy
      - ./scripts/discord_bot_healthcheck.py --url
        https://go.rooz.live/api/discord --retries 5
    definition_of_ready:
      - Discord APPLICATION_ID, PUBLIC_KEY, BOT_TOKEN obtained
      - Cloudflare account with Workers enabled
      - CLOUDFLARE_ACCOUNT_ID and CLOUDFLARE_API_TOKEN set
    definition_of_done:
      - Bot live and responding to commands in production Discord server
      - Health check passing for 24 hours
      - No rate limit violations (<30 req/min per user)
      - Status documented in docs/INCREMENTAL_RELENTLESS_EXECUTION_STATUS.md
    rollback_procedure:
      - ./scripts/deploy_discord_bot.sh rollback
      - Reverts to previous Cloudflare Worker version
    estimated_hours: 2
    actual_start: null
    actual_end: null
    blocked_by:
      - User credential configuration
  - id: DISCORD-2
    title: Cloudflare Workers Discord Interactions Endpoint
    status: PENDING
    sprint: 1
    week: 1
    phase: Foundation
    user_value: 9
    time_criticality: 9
    risk_reduction: 8
    job_size: 5
    wsjf_score: 5.2
    cost_of_delay: 26
    priority: HIGH
    description: Implement Cloudflare Worker for Discord slash command handling
    dependencies:
      - DISCORD-1
    acceptance_criteria:
      - workers/discord-bot/src/index.ts implements slash command routing
      - Signature verification via DISCORD_PUBLIC_KEY
      - Rate limiting per user (30 req/min) and guild (100 req/min)
      - Interaction responses within 3s Discord timeout
      - Error handling with fallback responses
    commands:
      - cd workers/discord-bot
      - npm install discord-interactions @cloudflare/workers-types
      - wrangler publish --name discord-bot-prod
    estimated_hours: 3
    actual_start: null
    actual_end: null
  - id: EARNINGS-1
    title: Earnings Calendar Data Source Implementation
    status: PENDING
    sprint: 1
    week: 2
    phase: Foundation
    user_value: 9
    time_criticality: 8
    risk_reduction: 7
    job_size: 4
    wsjf_score: 6
    cost_of_delay: 24
    priority: HIGH
    description: Implement provider-agnostic earnings calendar with caching
    dependencies:
      - Financial data provider API key (Alpha Vantage, Polygon.io, or FMP)
    acceptance_criteria:
      - scripts/data/earnings_calendar_fetcher.py created
      - Support for multiple providers via EARNINGS_PROVIDER env var
      - SQLite caching with 24hr TTL (cache/earnings_calendar.db)
      - Returns next 30 days of earnings events
      - "Includes: ticker, date, time (BMO/AMC), EPS estimate, surprise%"
      - "Options data integration: IV rank, expected move, volume"
    commands:
      - python3 scripts/data/earnings_calendar_fetcher.py --provider
        alphavantage --days 30
      - python3 scripts/data/earnings_calendar_fetcher.py --ticker AAPL
        --with-options
    estimated_hours: 3
    actual_start: null
    actual_end: null
  - id: EARNINGS-2
    title: Earnings Options Strategy Analyzer
    status: PENDING
    sprint: 1
    week: 2
    phase: Foundation
    user_value: 8
    time_criticality: 7
    risk_reduction: 6
    job_size: 5
    wsjf_score: 4.2
    cost_of_delay: 21
    priority: MEDIUM
    description: Analyze optimal options strategies for upcoming earnings
    dependencies:
      - EARNINGS-1
    acceptance_criteria:
      - scripts/analysis/earnings_options_strategy.py created
      - "Strategy recommendations: straddle, strangle, iron condor, calendar
        spread"
      - Risk/reward calculation for each strategy
      - Expected move vs implied move comparison
      - Cost basis and max profit/loss displayed
    commands:
      - python3 scripts/analysis/earnings_options_strategy.py --ticker TSLA
        --expiry 2025-01-24
    estimated_hours: 4
    actual_start: null
    actual_end: null
  - id: SCANNER-1
    title: Oversold Technical Scanner
    status: PENDING
    sprint: 2
    week: 3
    phase: Foundation
    user_value: 8
    time_criticality: 7
    risk_reduction: 6
    job_size: 4
    wsjf_score: 5.25
    cost_of_delay: 21
    priority: HIGH
    description: Scan tech sector for oversold conditions (RSI, MACD, Stochastic)
    dependencies:
      - Market data provider API
    acceptance_criteria:
      - scripts/scanners/oversold_tech_scanner.py created
      - Scans NASDAQ-100 and tech-heavy S&P 500 constituents
      - "Filters: RSI <30, MACD bearish crossover, Stochastic <20"
      - "Includes: price, volume, 52-week range, support levels"
      - "Output: JSON, CSV, and formatted terminal table"
    commands:
      - python3 scripts/scanners/oversold_tech_scanner.py --sector tech
        --min-mcap 10B
    estimated_hours: 3
    actual_start: null
    actual_end: null
  - id: SCANNER-2
    title: Analyst Sentiment Integration
    status: PENDING
    sprint: 2
    week: 3
    phase: Foundation
    user_value: 9
    time_criticality: 8
    risk_reduction: 7
    job_size: 5
    wsjf_score: 4.8
    cost_of_delay: 24
    priority: HIGH
    description: Integrate analyst ratings with oversold scanner
    dependencies:
      - SCANNER-1
      - Analyst data provider (Benzinga, TipRanks, etc.)
    acceptance_criteria:
      - scripts/data/analyst_ratings_fetcher.py created
      - "Fetches: consensus rating, price target, recent upgrades/downgrades"
      - Filters oversold stocks with ≥3 Buy ratings in last 30 days
      - "Risk score: technical + fundamental + sentiment composite"
      - Integrates with Discord bot /scan command
    commands:
      - python3 scripts/scanners/oversold_tech_scanner.py --with-analyst-ratings
        --min-buys 3
    estimated_hours: 4
    actual_start: null
    actual_end: null
  - id: WSJF-1
    title: WSJF Calculation Script Enhancement
    status: PENDING
    sprint: 2
    week: 4
    phase: Feature Expansion
    user_value: 7
    time_criticality: 6
    risk_reduction: 5
    job_size: 2
    wsjf_score: 9
    cost_of_delay: 18
    priority: MEDIUM
    description: Update show_quick_wins_progress.sh with WSJF automation
    acceptance_criteria:
      - "Calculates WSJF: (priority × urgency) / effort"
      - Displays recommended next item based on highest WSJF
      - "Tracks throughput: items/day, lead time, cycle time"
      - Cost of Delay estimation for HIGH priority items
    commands:
      - ./scripts/show_quick_wins_progress.sh --wsjf
    estimated_hours: 1.5
    actual_start: null
    actual_end: null
  - id: METRICS-1
    title: Metrics-to-Retro Linking Automation
    status: PENDING
    sprint: 2
    week: 4
    phase: Feature Expansion
    user_value: 8
    time_criticality: 7
    risk_reduction: 6
    job_size: 3
    wsjf_score: 7
    cost_of_delay: 21
    priority: MEDIUM
    description: Link git commits to QUICK_WINS items automatically
    acceptance_criteria:
      - Parses git log for commit messages referencing retro items
      - Calculates CoD for incomplete HIGH priority items
      - Tracks experiments via git log grep
      - "Generates impact report: retro item → commits → features"
    commands:
      - ./scripts/link_metrics_to_retro.sh
    estimated_hours: 2
    actual_start: null
    actual_end: null
  - id: PORTFOLIO-1
    title: Portfolio Risk Analytics Dashboard
    status: PENDING
    sprint: 3
    week: 5
    phase: Feature Expansion
    user_value: 9
    time_criticality: 6
    risk_reduction: 8
    job_size: 6
    wsjf_score: 3.83
    cost_of_delay: 23
    priority: MEDIUM
    description: Real-time portfolio risk monitoring with diversification analysis
    acceptance_criteria:
      - Portfolio beta calculation vs SPY/QQQ
      - Sector concentration analysis
      - Correlation matrix for holdings
      - Value at Risk (VaR) calculation (95%, 99% confidence)
      - Greeks aggregation for options positions
      - Integrated with Discord /portfolio command
    commands:
      - python3 scripts/portfolio_risk_dashboard.py --portfolio default
    estimated_hours: 5
    actual_start: null
    actual_end: null
  - id: ALERTS-1
    title: Multi-Channel Alert System
    status: PENDING
    sprint: 3
    week: 6
    phase: Feature Expansion
    user_value: 8
    time_criticality: 7
    risk_reduction: 7
    job_size: 5
    wsjf_score: 4.4
    cost_of_delay: 22
    priority: MEDIUM
    description: "Unified alert system: Discord, SMS, Push (optional)"
    acceptance_criteria:
      - "Alert triggers: price, RSI, MACD, volume, earnings, analyst upgrade"
      - Discord webhook integration
      - "Optional: Plivo/Telnyx SMS integration"
      - "Rate limiting: max 10 alerts/hour per user"
      - Alert history stored in cache/alerts.db
    commands:
      - python3 scripts/alerts/alert_manager.py --add ticker=AAPL
        condition='price<150' channel=discord
    estimated_hours: 4
    actual_start: null
    actual_end: null
  - id: ML-1
    title: Machine Learning Setup Predictor
    status: PENDING
    sprint: 4
    week: 8
    phase: Advanced Features
    user_value: 7
    time_criticality: 5
    risk_reduction: 5
    job_size: 8
    wsjf_score: 2.125
    cost_of_delay: 17
    priority: LOW
    description: Train ML model to identify high-probability setups
    acceptance_criteria:
      - "Feature engineering: technical indicators, volume, sector performance"
      - "Model: RandomForest or XGBoost for binary classification (setup valid:
        yes/no)"
      - "Training data: historical setup performance from
        portfolio_technical_analyzer.py"
      - Backtesting framework with precision/recall metrics
      - Model versioning in models/setup_predictor_vX.pkl
    commands:
      - python3 scripts/ml/train_setup_predictor.py --lookback 90 --min-samples
        100
      - python3 scripts/ml/predict_setups.py --ticker MSFT
    estimated_hours: 10
    actual_start: null
    actual_end: null
  - id: BACKTEST-1
    title: Strategy Backtesting Engine
    status: PENDING
    sprint: 5
    week: 9
    phase: Advanced Features
    user_value: 8
    time_criticality: 6
    risk_reduction: 7
    job_size: 7
    wsjf_score: 3
    cost_of_delay: 21
    priority: MEDIUM
    description: Backtest trading strategies with realistic slippage/commissions
    acceptance_criteria:
      - Strategy definition via YAML config (entry/exit rules)
      - "Supports: long/short equity, options strategies"
      - "Metrics: Sharpe, Sortino, max drawdown, win rate, profit factor"
      - "Commission model: flat + percentage"
      - "Slippage simulation: bid-ask spread + market impact"
    commands:
      - python3 scripts/backtest/backtest_engine.py --strategy
        config/strategies/oversold_bounce.yaml --start 2024-01-01
    estimated_hours: 8
    actual_start: null
    actual_end: null
  - id: INFRA-1
    title: Process Governor Performance Tuning
    status: COMPLETE
    completed_at: 2025-11-15T01:25Z
    sprint: 4
    week: 7
    phase: Infrastructure
    user_value: 7
    time_criticality: 8
    risk_reduction: 9
    job_size: 3
    wsjf_score: 8
    cost_of_delay: 24
    priority: HIGH
    description: Optimize governor with token bucket, batching, exponential backoff
    note: Already optimized to 40% CPU headroom, token-bucket rate limiting, batch
      size 3, WIP limit 6
  - id: INFRA-2
    title: Real-Time Monitoring Dashboard
    status: PENDING
    sprint: 5
    week: 10
    phase: Infrastructure
    user_value: 6
    time_criticality: 5
    risk_reduction: 6
    job_size: 6
    wsjf_score: 2.83
    cost_of_delay: 17
    priority: LOW
    description: Web dashboard for metrics, incidents, and action tracking
    acceptance_criteria:
      - Real-time updates via WebSocket or SSE
      - "Panels: TDD metrics, governor incidents, WIP violations, action
        throughput"
      - "Historical charts: CPU load, lead time, cycle time, experiments"
      - Alert panel for critical thresholds
    commands:
      - npm run dashboard:start
    estimated_hours: 7
    actual_start: null
    actual_end: null
  - id: INTEGRATE-1
    title: Stripe Webhook Handler Production Readiness
    status: COMPLETE
    completed_at: 2025-11-13T18:50Z
    sprint: 4
    week: 7
    phase: Integrations
    user_value: 9
    time_criticality: 8
    risk_reduction: 8
    job_size: 2
    wsjf_score: 12.5
    cost_of_delay: 25
    priority: HIGH
    description: Deploy Stripe webhook handler with auto-port discovery
    note: Auto-port discovery (5000-5099) implemented, validates signatures, handles
      all event types
  - id: INTEGRATE-2
    title: Twitch Stream Integration
    status: PENDING
    sprint: 6
    week: 11
    phase: Integrations
    user_value: 6
    time_criticality: 5
    risk_reduction: 4
    job_size: 5
    wsjf_score: 3
    cost_of_delay: 15
    priority: LOW
    description: Stream overlay with real-time alerts and portfolio updates
    acceptance_criteria:
      - OBS WebSocket integration
      - Real-time price ticker overlay
      - Alert popups for Discord /alert triggers
      - Portfolio P&L display (optional toggle)
    commands:
      - python3 scripts/integrations/twitch_overlay.py --obs-host localhost
        --obs-port 4444
    estimated_hours: 6
    actual_start: null
    actual_end: null
  - id: BUFFER-1
    title: Technical Debt Cleanup
    status: PENDING
    sprint: 7
    week: 13
    phase: Polish
    user_value: 5
    time_criticality: 3
    risk_reduction: 6
    job_size: 4
    wsjf_score: 3.5
    cost_of_delay: 14
    priority: LOW
    description: Refactor, document, and optimize existing code
    acceptance_criteria:
      - All scripts have --help documentation
      - README.md updated with latest features
      - Remove unused dependencies
      - Consolidate duplicate logic
    estimated_hours: 6
    actual_start: null
    actual_end: null
  - id: BUFFER-2
    title: User Testing and Feedback
    status: PENDING
    sprint: 7
    week: 13
    phase: Polish
    user_value: 8
    time_criticality: 4
    risk_reduction: 5
    job_size: 3
    wsjf_score: 5.67
    cost_of_delay: 17
    priority: MEDIUM
    description: Gather user feedback and implement quick fixes
    acceptance_criteria:
      - At least 5 users test Discord bot features
      - Collect feedback via form or Discord channel
      - Implement top 3 requested features or fixes
      - Document feedback in logs/user_feedback.jsonl
    estimated_hours: 4
    actual_start: null
    actual_end: null
risks:
  - id: RISK-001
    category: Dependency
    severity: HIGH
    probability: MEDIUM
    impact: Discord bot cannot deploy without credentials
    mitigation: User action required - documented in DoR
    owner: User
    status: OPEN
  - id: RISK-002
    category: Technical
    severity: MEDIUM
    probability: LOW
    impact: Financial data provider API rate limits
    mitigation: SQLite caching with 24hr TTL, batch requests
    owner: System
    status: MITIGATED
  - id: RISK-003
    category: Performance
    severity: MEDIUM
    probability: LOW
    impact: Process governor throttling during high load
    mitigation: Already optimized with 40% headroom, token bucket, exponential backoff
    owner: System
    status: RESOLVED
  - id: RISK-004
    category: Scope
    severity: MEDIUM
    probability: MEDIUM
    impact: 90-day scope too aggressive
    mitigation: Week 13 buffer, WSJF prioritization ensures highest value delivered first
    owner: Process
    status: ACCEPTED
  - id: RISK-005
    category: Integration
    severity: LOW
    probability: LOW
    impact: Cloudflare Workers deployment issues
    mitigation: Health check, rollback procedure, deployment script with validation
    owner: System
    status: MITIGATED
success_criteria:
  process_metrics:
    time_retro_to_code:
      target: <1 hour
      current: <30 min
      status: EXCEEDING
    action_completion:
      target: ">80%"
      current: 66.7%
      status: APPROACHING
    context_switches:
      target: <5 per day
      current: 0 per day
      status: EXCEEDING
  flow_metrics:
    lead_time:
      target: <24 hours
      current: 12.75 hours
      status: EXCEEDING
    cycle_time:
      target: <20 hours
      current: 10.20 hours
      status: EXCEEDING
    throughput:
      target: ">1 item/day"
      current: 1.87 items/day
      status: EXCEEDING
    wip_violations:
      target: <5%
      current: 0%
      status: EXCEEDING
  learning_metrics:
    experiments_per_sprint:
      target: ">3"
      current: "5"
      status: EXCEEDING
    retro_to_features:
      target: ">60%"
      current: 7.1%
      status: NEEDS_IMPROVEMENT
    days_to_implement:
      target: <7 days
      current: 1.0 days
      status: EXCEEDING
    false_positive_rate:
      target: <10%
      current: 0%
      status: EXCEEDING
  product_metrics:
    discord_bot:
      target: 100% uptime, <3s response
      current: Not deployed
      status: PENDING
    earnings_calendar:
      target: Daily updates, <1s query
      current: Not implemented
      status: PENDING
    scanner:
      target: ">10 setups/day, >70% accuracy"
      current: Not implemented
      status: PENDING
weekly_milestones:
  week_1:
    focus: Discord Bot Deployment
    deliverables:
      - DISCORD-1
      - DISCORD-2
    checkpoint_criteria:
      - Bot live in production
      - All commands responding
      - Health check passing
  week_2:
    focus: Earnings Calendar
    deliverables:
      - EARNINGS-1
      - EARNINGS-2
    checkpoint_criteria:
      - Earnings data fetching from provider
      - Options strategy recommendations working
      - Integrated with Discord /earnings command
  week_3:
    focus: Oversold Scanner
    deliverables:
      - SCANNER-1
      - SCANNER-2
    checkpoint_criteria:
      - Tech sector scan operational
      - Analyst sentiment integrated
      - Discord /scan command functional
  week_4:
    focus: WSJF and Metrics
    deliverables:
      - WSJF-1
      - METRICS-1
    checkpoint_criteria:
      - WSJF calculation automated
      - Metrics linked to retro items
      - Cost of Delay tracked
  week_5:
    focus: Portfolio Risk
    deliverables:
      - PORTFOLIO-1
    checkpoint_criteria:
      - Risk dashboard operational
      - Beta, VaR, Greeks calculated
      - Integrated with Discord /portfolio
  week_6:
    focus: Alert System
    deliverables:
      - ALERTS-1
    checkpoint_criteria:
      - Multi-channel alerts working
      - Rate limiting enforced
      - Alert history tracked
  week_7_8:
    focus: Infrastructure Hardening
    deliverables:
      - INFRA-1
      - ML-1
    checkpoint_criteria:
      - Governor performance validated
      - ML model baseline trained
  week_9_10:
    focus: Backtesting and Monitoring
    deliverables:
      - BACKTEST-1
      - INFRA-2
    checkpoint_criteria:
      - Backtest engine functional
      - Dashboard deployed
  week_11_12:
    focus: Integrations
    deliverables:
      - INTEGRATE-2
    checkpoint_criteria:
      - Twitch overlay working
      - OBS integration tested
  week_13:
    focus: Polish and Buffer
    deliverables:
      - BUFFER-1
      - BUFFER-2
    checkpoint_criteria:
      - Technical debt reduced
      - User feedback collected
      - Top fixes implemented
legacy_items:
  - id: WSJF-SOT-1
    title: WSJF single source of truth and Inbox Zero SAFLA linkage
    status: COMPLETE
    completed_at: 2025-11-14T21:50Z
    note: This file is the WSJF single source of truth
    phase: INTEGRATION
    user_value: 10
    time_criticality: 10
    risk_reduction: 8
    job_size: 2
    wsjf_score: 14
    cost_of_delay: 28
    description: This file - CONSOLIDATED_ACTIONS.yaml as single source of truth
    deliverables:
      - YAML-based action items with WSJF fields
      - Pointer from IMPLEMENTATION_STRATEGY_PRIORITY.md
    validation:
      - npx goalie@latest --plan --no-write --source
        .goalie/CONSOLIDATED_ACTIONS.yaml
  - id: TOOLING-1
    title: Tooling consolidation entrypoints (agentic-jujutsu, agentic-flow)
    status: COMPLETE
    completed_at: 2025-11-15T02:15Z
    note: Unified interface working, agentic-jujutsu blocked (native addon),
      acceptable
    phase: INTEGRATION
    user_value: 6
    time_criticality: 5
    risk_reduction: 7
    job_size: 2
    wsjf_score: 9
    cost_of_delay: 18
    description: Validate agentic tooling status and federation
    commands:
      - npx agentic-jujutsu status
      - npx agentic-jujutsu analyze
      - npx agentic-flow@latest federation start --no-sync --local-only 2>&1 |
        tee -a logs/agentic_federation.log
  - id: BML-1
    title: Build-Measure-Learn instrumentation
    status: COMPLETE
    completed_at: 2025-11-15T02:15Z
    note: All 6 phases operational, 19 metrics snapshots captured
    phase: INTEGRATION
    user_value: 9
    time_criticality: 8
    risk_reduction: 9
    job_size: 3
    wsjf_score: 8.7
    cost_of_delay: 26
    description: Hardening retro loop with metrics collection and learning capture
    targets:
      - Retro insight → code commit < 1h
      - Action items completion > 80%
      - Context switches/day < 5
    commands:
      - python3 ./scripts/ci/collect_metrics.py --baseline-only 2>&1 | tee -a
        logs/metrics_collect.log
      - node ./tests/utils/metrics-reporter.js --snapshot 2>&1 | tee -a
        logs/metrics_reporter.log
  - id: GOVERNANCE-1
    title: Governance and risk controls - hallucination risk and approval gates
    status: COMPLETE
    completed_at: 2025-11-14T22:55Z
    note: 4-layer control framework documented
    phase: GOVERNANCE
    user_value: 10
    time_criticality: 9
    risk_reduction: 10
    job_size: 2
    wsjf_score: 14.5
    cost_of_delay: 29
    description: Enforce local-only, conservative thresholds, hierarchical fallbacks
    controls:
      - EXECUTION_MODE=local until confidence rises
      - Conservative thresholds (syntax/lint only)
      - Hierarchical fallbacks enabled
      - Rollback procedure documented
  - id: DOC-UPDATE-1
    title: Append status deltas to allowed docs (no new .md)
    status: COMPLETE
    completed_at: 2025-11-14T22:55Z
    note: All 3 approved docs updated
    phase: DOCUMENTATION
    user_value: 7
    time_criticality: 6
    risk_reduction: 5
    job_size: 1
    wsjf_score: 18
    cost_of_delay: 18
    description: Update three approved docs with concise deltas
    files_to_update:
      - docs/INCREMENTAL_RELENTLESS_EXECUTION_STATUS.md
      - docs/QUICK_WINS.md
      - docs/IMPLEMENTATION_STRATEGY_PRIORITY.md
    constraint: Append-only, no overwriting
  - id: GATE-1
    title: Go/No-Go gate with explicit criteria
    status: COMPLETE
    completed_at: 2025-11-14T22:45Z
    decision: CONDITIONAL GO - 5/7 criteria PASS
    phase: GATE
    user_value: 10
    time_criticality: 10
    risk_reduction: 10
    job_size: 1
    wsjf_score: 30
    cost_of_delay: 30
    description: Decision gate for proceeding to feature work
    go_criteria:
      - .agentdb/hooks exists and fires
      - events.jsonl grows on commands
      - AgentDB non-empty (rows > 0)
      - Baseline metrics script completes without hang
      - Blockers updated with next steps
      - IPMI SSH fallback validated
      - Snapshot created and recorded
    actions:
      go: Proceed to small-scale feature work under WSJF SOT
      no_go: Open corrective tasks and loop back
priority_order:
  - GATE-1 (30.0) - Go/No-Go gate
  - DOC-UPDATE-1 (18.0) - Append status deltas
  - PHASE-A-5 (16.0) - Snapshot (CANCELLED)
  - WSJF-SOT-1 (14.0) - This file
  - GOVERNANCE-1 (14.5) - Risk controls
  - PHASE-A-4 (13.5) - Learning capture parity
  - PHASE-A-2 (12.0) - Auto-DB patch
  - PHASE-A-1 (9.0) - Baselines
  - TOOLING-1 (9.0) - Tooling entrypoints
  - BML-1 (8.7) - Build-Measure-Learn
  - VALIDATE-1 (8.0) - Validation suite
  - PHASE-B-2 (7.3) - IPMI connectivity
  - PHASE-A-3 (7.0) - Populate AgentDB
  - PHASE-B-1 (6.5) - Calibration dataset
  - PHASE-B-3 (5.8) - Governor retrofit
next_sprint:
  - id: WSJF-SOT-1
    title: Complete WSJF single source of truth
    wsjf_score: 14
    status: IN_PROGRESS
  - id: GOVERNANCE-1
    title: Governance and risk controls
    wsjf_score: 14.5
  - id: PHASE-A-4
    title: Learning capture parity
    wsjf_score: 13.5
  - id: CLEANUP-1
    title: Kill runaway Jest test PID 59658 (156.9% CPU, 1708h runtime)
    status: COMPLETE
    completed_at: 2025-11-15T02:13Z
    note: Process killed, ~100% CPU freed, load reduced from 47.57 to 40.44
    wsjf_score: null
  - title: Add full-stack observability coverage for API gateway latency
    circle: Analyst
    priority: HIGH
    tags:
      - full-stack
      - reliability
      - retro-refinement
    status: TODO
  - title: Verify safe-degrade patterns in full-stack integration tests
    circle: Assessor
    priority: HIGH
    tags:
      - full-stack
      - reliability
      - retro-refinement
    status: TODO
  - title: Expand iteration budget to include full-stack prototype deployments
    circle: Innovator
    priority: HIGH
    tags:
      - full-stack
      - reliability
      - retro-refinement
    status: TODO
  - title: Map user journey fallbacks for full-stack outages
    circle: Intuitive
    priority: HIGH
    tags:
      - full-stack
      - reliability
      - retro-refinement
    status: TODO
  - title: Visualize full-stack dependency graph in flow metrics
    circle: Orchestrator
    priority: HIGH
    tags:
      - full-stack
      - reliability
      - retro-refinement
    status: TODO
  - title: Scan for full-stack configuration drift in documentation
    circle: Seeker
    priority: HIGH
    tags:
      - full-stack
      - reliability
      - retro-refinement
    status: TODO
  - id: DEEP-DIVE-1
    title: Deep dive on Circle Roles Impact on Prod Maturity
    status: TODO
    priority: HIGH
    circle: Orchestrator
    wsjf_score: 15
    cost_of_delay: 45
    pattern: retro-refinement
    tags:
      - deep-dive
      - maturity
      - governance
    description: Analyze logs and metrics to determine how each circle impacts
      production reliability and maturity.
    acceptance_criteria:
      - Report on circle-specific impacts generated
      - Identified bottlenecks per circle
      - Recommendations for capability improvements
  - id: DEEP-DIVE-2
    title: RCA 5W on High System Load Incidents
    status: TODO
    priority: HIGH
    circle: Assessor
    wsjf_score: 14.5
    cost_of_delay: 43.5
    pattern: observability-first
    tags:
      - rca
      - stability
      - performance
    description: Perform 5 Whys analysis on recent high load incidents to identify
      root causes beyond just throttling.
    acceptance_criteria:
      - 5 Whys analysis document created
      - Root causes identified (e.g., specific processes, lack of isolation)
      - Structural fix proposals (not just throttling)
  - id: DEEP-DIVE-3
    title: Propose Structural Alternatives to Throttling
    status: TODO
    priority: HIGH
    circle: Innovator
    wsjf_score: 14
    cost_of_delay: 42
    pattern: safe-degrade
    tags:
      - architecture
      - resilience
      - proactive
    description: Design and propose architectural changes to handle load proactively
      (e.g., isolation, predictive scaling).
    acceptance_criteria:
      - Proposal document with at least 3 alternatives
      - Feasibility analysis for each alternative
      - Implementation plan for selected alternative
  # ================================================================================
  # CRITICAL PRIORITY - Security Vulnerabilities (Dependabot Alerts)
  # ================================================================================
  - id: SEC-001
    title: Upgrade glob package to fix CVE-2025-64756 (command injection)
    status: complete
    completed_at: 2025-11-30T18:30:00Z
    priority: critical
    circle: Orchestrator
    wsjf_score: 25
    cost_of_delay: 75
    pattern: guardrail-lock
    rca_method: fault-tree
    rca_iteration: 1
    detected_pattern: security-vulnerability
    verified: true
    cod_impact: 75
    source: dependabot-alert-42
    tags:
      - security
      - npm
      - critical
    description: |
      CVE-2025-64756 (HIGH 7.5): Command injection vulnerability in glob CLI.
      Affects packages/agentic-jujutsu/package-lock.json. The -c/--cmd flag
      passes unsanitized input to shell with shell:true, enabling arbitrary
      command execution via shell metacharacters.
    files_to_modify:
      - packages/agentic-jujutsu/package-lock.json
    acceptance_criteria:
      - glob version >= 10.5.0 or >= 11.1.0
      - npm install completes without errors
      - No regression in dependent scripts
    commands:
      - cd packages/agentic-jujutsu && npm update glob
  - id: SEC-002
    title: Upgrade js-yaml package to fix CVE-2025-64718 (prototype pollution)
    status: complete
    completed_at: 2025-11-30T18:30:00Z
    priority: critical
    circle: Orchestrator
    wsjf_score: 22
    cost_of_delay: 66
    pattern: guardrail-lock
    rca_method: fault-tree
    rca_iteration: 1
    detected_pattern: security-vulnerability
    verified: true
    cod_impact: 66
    source: dependabot-alert-41
    tags:
      - security
      - npm
      - critical
    description: |
      CVE-2025-64718 (MEDIUM 6.5): Prototype pollution via __proto__ key in YAML.
      Affects packages/agentic-jujutsu/package-lock.json. Attackers can inject
      __proto__ keys that pollute Object.prototype, potentially leading to DoS
      or privilege escalation.
    files_to_modify:
      - packages/agentic-jujutsu/package-lock.json
    acceptance_criteria:
      - js-yaml version >= 4.1.1 or >= 3.14.2
      - npm install completes without errors
      - YAML parsing tests pass
    commands:
      - cd packages/agentic-jujutsu && npm update js-yaml
  - id: SEC-003
    title: Remove wee_alloc dependency (unmaintained, memory leaks)
    status: complete
    completed_at: 2025-11-30T18:30:00Z
    priority: critical
    circle: Orchestrator
    wsjf_score: 20
    cost_of_delay: 60
    pattern: guardrail-lock
    rca_method: fault-tree
    rca_iteration: 1
    detected_pattern: unmaintained-dependency
    verified: true
    cod_impact: 60
    source: dependabot-alert-37
    tags:
      - security
      - rust
      - wasm
      - critical
    description: |
      wee_alloc is unmaintained (last update 2022) and has known memory leak
      issues. Use the default Rust allocator instead for WASM builds, which
      has improved significantly in recent Rust versions.
    files_to_modify:
      - packages/agent-booster/crates/agent-booster-wasm/Cargo.toml
    acceptance_criteria:
      - wee_alloc dependency removed from Cargo.toml
      - wee_alloc_feature removed from features section
      - cargo check passes in workspace
      - WASM binary size increase acceptable (<50KB)
    commands:
      - cd packages/agent-booster && cargo check
  - id: SEC-004
    title: Upgrade torch to fix CVE-2025-32434 (RCE via torch.load)
    status: complete
    completed_at: 2025-11-30T18:30:00Z
    priority: critical
    circle: Orchestrator
    wsjf_score: 28
    cost_of_delay: 84
    pattern: guardrail-lock
    rca_method: fault-tree
    rca_iteration: 1
    detected_pattern: security-vulnerability
    verified: true
    cod_impact: 84
    source: dependabot-alert-27
    tags:
      - security
      - python
      - ml
      - critical
    description: |
      CVE-2025-32434 (CRITICAL 9.3): Remote Code Execution via torch.load with
      weights_only=True bypass. Affects CRISPR pipeline off-target service.
      Attackers can craft malicious model files that execute arbitrary code
      even when weights_only=True is specified.
    files_to_modify:
      - agentic-flow/examples/crispr-cas13-pipeline/docs/docker/off-target-service/requirements.txt
    acceptance_criteria:
      - torch version >= 2.6.0
      - pip install completes without errors
      - Model loading tests pass
    commands:
      - pip install torch>=2.6.0
  # ================================================================================
  # URGENT PRIORITY - SAFLA Integration
  # ================================================================================
  - id: SAFLA-001
    title: Implement SAFLA delta evaluation in governance.py
    status: complete
    completed_at: 2025-11-30T18:30:00Z
    note: "SAFLA delta evaluation verified in prod-cycle 14 - 14 governance_delta_evaluation events emitted, delta_history tracking operational, Δ_total=0.2 > threshold=0.05"
    priority: urgent
    circle: Innovator
    wsjf_score: 18
    cost_of_delay: 54
    pattern: governance-review
    rca_method: 5-whys
    rca_iteration: 1
    detected_pattern: improvement-quantification-gap
    verified: true
    cod_impact: 54
    source: safla-analysis
    tags:
      - safla
      - governance
      - delta-evaluation
      - urgent
    description: |
      Implement SAFLA's delta evaluation formula to quantify governance
      parameter improvements before applying them:
      Δ_total = α₁×Δ_performance + α₂×Δ_efficiency + α₃×Δ_stability + α₄×Δ_capability
      This enables data-driven governance self-tuning with measurable impact.
    files_to_modify:
      - scripts/policy/governance.py
    acceptance_criteria:
      - calculate_delta_improvement() function implemented
      - Integrated into adjust_parameters_from_retro()
      - delta_history tracked in governance_state.json
      - governance_delta_evaluation events emitted to metrics_log.jsonl
    evidence_sources:
      - https://github.com/ruvnet/SAFLA
  - id: SAFLA-002
    title: Add timeline delta tracking with Ed25519 signatures to retro_coach.ts
    status: TODO
    priority: urgent
    circle: Assessor
    wsjf_score: 16
    cost_of_delay: 48
    pattern: observability-first
    rca_method: timeline-analysis
    rca_iteration: 1
    detected_pattern: audit-trail-gap
    verified: true
    cod_impact: 48
    source: time-md-analysis
    tags:
      - safla
      - timeline
      - cryptographic-audit
      - urgent
    description: |
      Implement timeline delta tracking from TIME.md specification:
      - Event deltas with Ed25519 signatures for attestation
      - Merkle chain for cryptographic verification
      - Vector-only scoring bypassing LLM calls for performance
    files_to_modify:
      - tools/federation/retro_coach.ts
    acceptance_criteria:
      - TimelineDelta interface implemented
      - Ed25519 signature generation for RCA events
      - Merkle chain verification for audit trail
    evidence_sources:
      - gist.github.com/ruvnet/f46e7dc1da1d23cba35cf25a0c7c1c28
  - id: SAFLA-003
    title: Enhance pattern_metrics.jsonl schema for timeline semantics
    status: TODO
    priority: urgent
    circle: Analyst
    wsjf_score: 14
    cost_of_delay: 42
    pattern: observability-first
    rca_method: value-stream-mapping
    rca_iteration: 1
    detected_pattern: schema-evolution-needed
    verified: true
    cod_impact: 42
    source: safla-analysis
    tags:
      - safla
      - schema
      - telemetry
      - urgent
    description: |
      Enhance pattern_metrics.jsonl schema to support:
      - Signed deltas with timestamp and signature fields
      - Rollup windows for aggregation (1m, 5m, 15m, 1h)
      - Vector embeddings for semantic similarity search
    files_to_modify:
      - scripts/emit_metrics.py
      - .goalie/pattern_metrics.jsonl
    acceptance_criteria:
      - Schema supports signed_delta field
      - Rollup window field added
      - Embedding placeholder field for future vector store
    evidence_sources:
      - https://github.com/ruvnet/SAFLA
  # ================================================================================
  # URGENT PRIORITY - MED.md Compliance
  # ================================================================================
  - id: MED-001
    title: Add evidence_sources field to RCA-generated actions
    status: TODO
    priority: urgent
    circle: Assessor
    wsjf_score: 12
    cost_of_delay: 36
    pattern: governance-review
    rca_method: 5-whys
    rca_iteration: 1
    detected_pattern: research-integrity-gap
    verified: true
    cod_impact: 36
    source: med-md-analysis
    tags:
      - med-compliance
      - research-integrity
      - urgent
    description: |
      MED.md Protocol #1 compliance: Only cite verified sources.
      Add evidence_sources array field to RCA-generated actions to track
      the provenance of recommendations and ensure no fake citations.
    files_to_modify:
      - .goalie/CONSOLIDATED_ACTIONS.yaml
      - tools/federation/retro_coach.ts
    acceptance_criteria:
      - evidence_sources field in CONSOLIDATED_ACTIONS.yaml schema
      - retro_coach.ts populates evidence_sources on RCA actions
      - All new actions include verified source URLs
    evidence_sources:
      - gist.github.com/ruvnet/d09b5168a9cdb1ae0d7c5c21d2a37e81
  - id: MED-002
    title: Add verification threshold validation to RCA recommendations
    status: TODO
    priority: urgent
    circle: Assessor
    wsjf_score: 11
    cost_of_delay: 33
    pattern: ml-training-guardrail
    rca_method: 5-whys
    rca_iteration: 1
    detected_pattern: research-integrity-gap
    verified: true
    cod_impact: 33
    source: med-md-analysis
    tags:
      - med-compliance
      - validation
      - urgent
    description: |
      MED.md Protocol #6 compliance: Never generate speculative data.
      Add verification_threshold field (default 90%) to RCA recommendations.
      Block emission of recommendations that fall below the threshold.
    files_to_modify:
      - tools/federation/retro_coach.ts
    acceptance_criteria:
      - verification_threshold field added to RCA recommendation schema
      - Threshold validation before emitIterativeRCARecommendation()
      - Low-confidence recommendations logged but not emitted
    evidence_sources:
      - gist.github.com/ruvnet/d09b5168a9cdb1ae0d7c5c21d2a37e81

  # === Production Maturity Improvements (Initiative 1) ===
  # Based on delta_history analysis: 100% zero-adjustment rate, Δ avg=0.1855
  - id: PROD-001
    title: Fix health_check.py datetime subtraction TypeError
    status: complete
    completed_at: 2025-11-30T19:22:00Z
    priority: critical
    circle: Orchestrator
    wsjf_score: 30
    cost_of_delay: 90
    pattern: failure-strategy
    rca_method: 5-whys
    rca_iteration: 1
    detected_pattern: cycle-failure-cascade
    analysis: |
      Root cause of throughput=0.0: All prod-cycle iterations are failing.
      5-Whys Analysis:
      1. Why is throughput 0? Because iterations_without_progress = current_iteration
      2. Why is iwp = current_iteration? Because all cycles are failing
      3. Why are cycles failing? health_check.py raises TypeError
      4. Why TypeError? datetime.now() - offset-aware datetime subtraction
      5. Why offset mismatch? cycle_log timestamps are UTC-aware, datetime.now() is naive
      Fix: Use datetime.now(timezone.utc) in health_check.py line 100
    affected_files:
      - scripts/agentic/health_check.py
    verification: ./scripts/af full-cycle 1 && echo "SUCCESS"
    resolution: |
      Fixed datetime subtraction by using timezone-aware datetime.now(timezone.utc)
      Also fixed unbound variable AF_ENHANCED_AUTOCOMMIT and AF_IRIS_PARALLEL_EXECUTION
      in scripts/af by adding default values with ${VAR:-0} syntax.
    tags:
      - critical
      - blocking

  - id: PROD-002
    title: Add adjustment trigger for depth-ladder oscillation detection
    status: TODO
    priority: important
    circle: Assessor
    wsjf_score: 12
    cost_of_delay: 36
    pattern: governance-review
    detected_pattern: depth-oscillation
    analysis: |
      Pattern metrics show depth-ladder oscillation:
      - iter 2,8,14: assessor depth=5
      - iter 5,11: orchestrator depth=4
      This 3-iteration cycle suggests suboptimal depth configuration.
      Add hysteresis to prevent thrashing between depth levels.
    tags:
      - governance
      - pattern-recognition

  - id: PROD-003
    title: Tune DELTA_IMPROVEMENT_THRESHOLD based on observed delta distribution
    status: TODO
    priority: normal
    circle: Analyst
    wsjf_score: 10
    cost_of_delay: 30
    pattern: governance-review
    detected_pattern: threshold-too-low
    analysis: |
      Observed: 93% of iterations (13/14) are above threshold=0.05
      Delta range: -0.1 to 0.2975, avg=0.1855
      Recommendation: Increase threshold to 0.10 to make delta evaluation
      more discriminating and trigger actual governance adjustments.
    tags:
      - safla
      - calibration

  - id: PROD-004
    title: Add capability metric tracking for new_capabilities calculation
    status: TODO
    priority: normal
    circle: Orchestrator
    wsjf_score: 8
    cost_of_delay: 24
    pattern: governance-review
    detected_pattern: capability-metric-static
    analysis: |
      Current metrics show new_capabilities=0 across all iterations.
      This is because adjustments_made=0 for all 14 entries.
      Need to track actual capability expansions (new circles, new patterns,
      new telemetry events) to provide meaningful capability delta.
    tags:
      - safla
      - telemetry

  # === Security Vulnerability Remediation (Initiative 2) ===
  # WSJF-prioritized Dependabot alerts, top 10 by CoD/JobSize
  - id: SEC-005
    title: Upgrade transformers to fix CVE-2025-6638 (ReDoS in MarianTokenizer)
    status: DONE
    completed_at: "2025-11-30T19:45:00Z"
    priority: critical
    circle: Orchestrator
    wsjf_score: 29.3
    cost_of_delay: 88
    job_size: 3
    cvss_score: 5.3
    cve_ids:
      - CVE-2025-6638
    affected_files:
      - agentic-flow/examples/crispr-cas13-pipeline/docs/docker/off-target-service/requirements.txt
    fix_version: ">=4.53.0"
    verification: pip check transformers
    resolution: "Updated transformers version from ==4.36.2 to >=4.53.0"
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/28
    tags:
      - security
      - resolved

  - id: SEC-006
    title: Upgrade glob in research-swarm to fix CVE-2025-64756 (command injection)
    status: DONE
    completed_at: "2025-11-30T19:45:00Z"
    priority: critical
    circle: Orchestrator
    wsjf_score: 25
    cost_of_delay: 75
    job_size: 3
    cvss_score: 7.5
    cve_ids:
      - CVE-2025-64756
    affected_files:
      - examples/research-swarm/package.json
      - examples/research-swarm/package-lock.json
    fix_version: ">=10.5.0"
    verification: npm audit --prefix examples/research-swarm
    resolution: "Added overrides section with glob>=10.5.0, npm update upgraded to 13.0.0"
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/32
    tags:
      - security
      - resolved

  - id: SEC-007
    title: Upgrade protobuf in rights-preserving-platform to fix CVE-2025-53605 (stack overflow)
    status: TODO
    priority: urgent
    circle: Orchestrator
    wsjf_score: 22
    cost_of_delay: 66
    job_size: 3
    cvss_score: 6.6
    cve_ids:
      - CVE-2025-53605
    affected_files:
      - examples/rights-preserving-platform/Cargo.lock
    fix_version: ">=3.7.2"
    verification: cargo audit
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/35
    tags:
      - security
      - rust

  - id: SEC-008
    title: Upgrade idna in rights-preserving-platform to fix CVE-2024-12224 (URL spoofing)
    status: TODO
    priority: urgent
    circle: Orchestrator
    wsjf_score: 21
    cost_of_delay: 63
    job_size: 3
    cvss_score: 6.3
    cve_ids:
      - CVE-2024-12224
    affected_files:
      - examples/rights-preserving-platform/Cargo.lock
    fix_version: ">=1.0.0"
    verification: cargo audit
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/34
    tags:
      - security
      - rust

  - id: SEC-009
    title: Upgrade requests in CRISPR pipeline services to fix credential leak
    status: TODO
    priority: urgent
    circle: Orchestrator
    wsjf_score: 17.7
    cost_of_delay: 53
    job_size: 3
    cvss_score: 5.3
    cve_ids:
      - CVE-2024-47081
      - CVE-2024-35195
    affected_files:
      - agentic-flow/examples/crispr-cas13-pipeline/docs/docker/off-target-service/requirements.txt
      - agentic-flow/examples/crispr-cas13-pipeline/docs/docker/diff-expr-service/requirements.txt
      - agentic-flow/examples/crispr-cas13-pipeline/docs/docker/alignment-service/requirements.txt
    fix_version: ">=2.32.4"
    verification: pip check requests
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/4
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/5
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/6
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/7
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/9
    tags:
      - security
      - python

  - id: SEC-010
    title: Upgrade body-parser in agentdb/agentic-flow to fix DoS
    status: TODO
    priority: important
    circle: Orchestrator
    wsjf_score: 17.7
    cost_of_delay: 53
    job_size: 3
    cvss_score: 5.3
    cve_ids:
      - CVE-2025-13466
    affected_files:
      - packages/agentdb/package-lock.json
      - agentic-flow/package-lock.json
      - examples/research-swarm/package-lock.json
    fix_version: ">=2.2.1"
    verification: npm audit
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/31
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/33
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/40
    tags:
      - security
      - npm

  - id: SEC-011
    title: Upgrade esbuild in agentdb to fix CORS origin leak
    status: TODO
    priority: important
    circle: Orchestrator
    wsjf_score: 17.7
    cost_of_delay: 53
    job_size: 3
    cvss_score: 5.3
    cve_ids: []
    ghsa_id: GHSA-67mh-4wv8-2f99
    affected_files:
      - packages/agentdb/package-lock.json
    fix_version: ">=0.25.0"
    verification: npm audit --prefix packages/agentdb
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/39
    tags:
      - security
      - npm
      - dev-dependency

  - id: SEC-012
    title: Upgrade pymongo to fix CVE-2024-5629 (out-of-bounds read)
    status: TODO
    priority: important
    circle: Orchestrator
    wsjf_score: 15.7
    cost_of_delay: 47
    job_size: 3
    cvss_score: 4.7
    cve_ids:
      - CVE-2024-5629
    affected_files:
      - agentic-flow/examples/crispr-cas13-pipeline/docs/docker/off-target-service/requirements.txt
    fix_version: ">=4.6.3"
    verification: pip check pymongo
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/10
    tags:
      - security
      - python

  - id: SEC-013
    title: Upgrade js-yaml in baseline snapshot to fix prototype pollution
    status: TODO
    priority: normal
    circle: Orchestrator
    wsjf_score: 17.7
    cost_of_delay: 53
    job_size: 3
    cvss_score: 5.3
    cve_ids:
      - CVE-2025-64718
    affected_files:
      - .snapshots/baseline/package-lock.json
    fix_version: ">=4.1.1"
    verification: npm audit
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/3
    tags:
      - security
      - npm

  - id: SEC-014
    title: Address transformers ReDoS vulnerabilities
    status: TODO
    priority: normal
    circle: Orchestrator
    wsjf_score: 17.7
    cost_of_delay: 53
    job_size: 3
    cvss_score: 5.3
    cve_ids:
      - CVE-2025-6921
      - CVE-2025-6051
      - CVE-2025-6638
    affected_files:
      - agentic-flow/examples/crispr-cas13-pipeline/docs/docker/off-target-service/requirements.txt
    fix_version: ">=4.53.0"
    verification: pip check transformers
    note: "Combines multiple ReDoS issues - same fix version as SEC-005"
    evidence_sources:
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/28
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/29
      - https://api.github.com/repos/rooz-live/agentic-flow/dependabot/alerts/30
    tags:
      - security
      - python

# === Swarm Execution Plan ===
swarm_execution_plan:
  strategy: hierarchical
  coordinator: Orchestrator
  phases:
    - phase: 1
      name: Critical Security (24h)
      parallel_agents: 3
      items: [SEC-005, SEC-006]
      topology: mesh
      note: "Critical RCE vulnerabilities - immediate remediation"
    - phase: 2
      name: Urgent Security (48h)
      parallel_agents: 3
      items: [SEC-007, SEC-008, SEC-009]
      topology: hierarchical
      note: "Rust and Python dependency updates"
    - phase: 3
      name: Important Security (72h)
      parallel_agents: 2
      items: [SEC-010, SEC-011, SEC-012]
      topology: adaptive
      note: "npm transitive dependencies"
    - phase: 4
      name: Normal Priority (1 week)
      parallel_agents: 2
      items: [SEC-013, SEC-014]
      topology: mesh
      note: "Snapshot and bundled fixes"
    - phase: 5
      name: Production Maturity (2 weeks)
      parallel_agents: 2
      items: [PROD-001, PROD-002, PROD-003, PROD-004]
      topology: adaptive
      note: "SAFLA calibration and governance tuning"
