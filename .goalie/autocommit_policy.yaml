# Autocommit policy for af full-cycle and related automation
# Default: metrics-only, no code-level autocommit. Circle roles can
# explicitly change this file when they are ready to allow safe code
# autocommit under strong guardrails.

mode: safe_code
allow_code_autocommit: true
allow_full_cycle_autocommit: true
max_cycles: 2

require_test_pass: true
require_validate_pass: true
require_code_guardrails_pass: true

# Comma-separated list of prefixes that are eligible for code-level
# autocommit when mode == safe_code and allow_code_autocommit == true.
# Circle roles can tighten or expand this as ontology/epistemics mature.
allowed_code_prefixes: scripts/

# Comma-separated list of prefixes that should never be auto-committed
# even if they match allowed_code_prefixes.
blocked_code_prefixes:

# Path to the code guardrails script, relative to the repository root.
code_guardrails_script: scripts/agentic/code_guardrails.py