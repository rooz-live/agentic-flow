<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="6" time="58.353" timestamp="2025-11-25T19:05:13.171040-05:00" hostname="Mac.lan"><testcase classname="tests.analysis.test_iris_prod_cycle_integration.TestIRISProdCycleIntegration" name="test_prod_cycle_logs_iris_metrics" time="53.460" /><testcase classname="tests.analysis.test_iris_prod_cycle_integration.TestIRISProdCycleIntegration" name="test_iris_event_schema" time="1.181" /><testcase classname="tests.analysis.test_iris_prod_cycle_integration.TestIRISProdCycleIntegration" name="test_circle_participation_logged" time="1.156" /><testcase classname="tests.analysis.test_iris_prod_cycle_integration.TestIRISProdCycleIntegration" name="test_actions_with_priorities" time="1.218" /><testcase classname="tests.analysis.test_iris_prod_cycle_integration.TestIRISProdCycleIntegration" name="test_production_maturity_all_environments" time="1.207"><failure message="AssertionError: assert 'grpc' in ['smtp', 'websocket']">self = &lt;test_iris_prod_cycle_integration.TestIRISProdCycleIntegration object at 0x10c460ef0&gt;

    def test_production_maturity_all_environments(self):
        """Test that all production environments are monitored."""
        # Run any IRIS command
        result = subprocess.run(
            ['./scripts/af', 'iris-health', '--log-goalie'],
            cwd=PROJECT_ROOT,
            capture_output=True,
            text=True,
            env={
                **os.environ,
                'AF_ENABLE_IRIS_METRICS': '1',
                'AF_IRIS_CMD': 'true',
                'AF_TEST_MODE': '1',
                'AF_IRIS_STUB': '1',
            },
        )
    
        assert result.returncode == 0
    
        events = get_iris_events()
        if not events:
            _write_stub_iris_events()
            events = get_iris_events()
        assert len(events) &gt; 0
    
        event = events[-1]
        pm = event['production_maturity']
    
        # Infrastructure
        assert 'starlingx_openstack' in pm
        assert 'status' in pm['starlingx_openstack']
        assert 'issues' in pm['starlingx_openstack']
    
        # CMS
        assert 'symfony' in pm['cms_interfaces']
        assert 'oro' in pm['cms_interfaces']
        assert 'wordpress' in pm['cms_interfaces']
        assert 'flarum' in pm['cms_interfaces']
    
        # Communication
        assert 'telnyx' in pm['communication_stack']
        assert 'plivo' in pm['communication_stack']
        assert 'sms' in pm['communication_stack']
        assert 'ivr' in pm['communication_stack']
        assert 'tts' in pm['communication_stack']
    
        # Messaging
        assert isinstance(pm['messaging_protocols'], list)
        assert 'smtp' in pm['messaging_protocols']
        assert 'websocket' in pm['messaging_protocols']
&gt;       assert 'grpc' in pm['messaging_protocols']
E       AssertionError: assert 'grpc' in ['smtp', 'websocket']

tests/analysis/test_iris_prod_cycle_integration.py:387: AssertionError</failure></testcase><testcase classname="tests.analysis.test_iris_prod_cycle_integration.TestIRISProdCycleIntegration" name="test_env_var_disables_logging" time="0.075" /></testsuite></testsuites>