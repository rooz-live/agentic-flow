# Cargo configuration for sqlite-vector

[build]
# Use all available CPU cores for faster builds
jobs = 4

[target.x86_64-unknown-linux-gnu]
rustflags = ["-C", "target-cpu=native"]

[target.x86_64-apple-darwin]
rustflags = ["-C", "target-cpu=native"]

[target.aarch64-apple-darwin]
rustflags = ["-C", "target-cpu=native"]

[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "target-cpu=native"]

# WASM target configuration
[target.wasm32-unknown-unknown]
rustflags = ["-C", "opt-level=3"]

[profile.release]
# Maximum optimization
opt-level = 3
lto = "fat"
codegen-units = 1
strip = true

[profile.dev]
# Faster debug builds
opt-level = 1

[alias]
# Convenient aliases
publish-check = "publish --dry-run --allow-dirty"
doc-check = "doc --no-deps --all-features"
test-all = "test --all-features"
